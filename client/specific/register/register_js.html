<div class="container-main-content display-inline-block padding-medium">
    <p class="margin-none padding-none padding-bottom-medium">
        Fyll i nedanstående formulär för att registrera dig som ny kund i vår nätbutik! 
    </p>
    <div class="visible-lg">
        <div class="float-left padding-none padding-left-medium">
            <ul class="nav nav-tabs">
                <!--Due to compatibility issues between AngularJS and vanilla JavaScript I had to place the onload-function on an image element instead on the window object.-->
                <li><a href="#/register_html5"><img src="/content/icon/html5_small.png" onload="onloadFunctionJS()" alt="HTML5"></a></li>
                <li class="active"><a href="#/register_js"><img src="/content/icon/js_small.png" alt="JavaScript"></a></li>
                <li><a href="#/register_jquery"><img src="/content/icon/jquery_small.png" alt="JQuery"></a></li>
                <li><a href="#/register_angularjs"><img src="/content/icon/angularjs_small.png" alt="AngularJS"></a></li>
            </ul>
        </div>
        <div class="float-right padding-none padding-right-medium" style="height: 60px;">
            <div class="display-table">
                <div class="display-table-cell-bottom">
                    <input type="button" class="btn btn-default btn-xs" value="Source Code" data-toggle="modal" data-target="#codeModal">
                    <input type="button" class="btn btn-default btn-xs" value="Info" data-toggle="modal" data-target="#infoModal">
                </div>
            </div>
        </div>
    </div>
    <div class="clear-both">
        <form onsubmit="SubmitFunctionJS()" name="userForm" class="text-align-left border border-radius gray-bgcolor margin-medium padding-medium">
            <fieldset class="border-none display-block" id="fieldset_text_fields_registration_form">
                <div class="form-group has-feedback" id="firstname_div">
                    <label>Förnamn *</label>
                    <input type="text" class="form-control border-radius" id="firstname_input" name="firstname" placeholder="Fyll i ditt förnamn">
                    <i class="display-none glyphicon glyphicon-remove form-control-feedback" id="firstname_invalid"></i>
                    <i class="display-none glyphicon glyphicon-ok form-control-feedback" id="firstname_valid"></i>
                    <p class="display-none help-block" id="firstname_invalid_message">Glöm inte att fylla i ditt förnamn.</p>
                </div>
                <div class="form-group has-feedback" id="lastname_div">
                    <label>Efternamn *</label>
                    <input type="text" class="form-control border-radius" id="lastname_input" name="lastname" placeholder="Fyll i ditt efternamn">
                    <i class="display-none glyphicon glyphicon-remove form-control-feedback" id="lastname_invalid"></i>
                    <i class="display-none glyphicon glyphicon-ok form-control-feedback" id="lastname_valid"></i>
                    <p class="display-none help-block" id="lastname_invalid_message">Glöm inte att fylla i ditt efternamn.</p>
                </div>
                <div class="form-group has-feedback" id="address_div">
                    <label>Adress *</label>
                    <input type="text" class="form-control border-radius" id="address_input" name="address" placeholder="Fyll i din adress">
                    <i class="display-none glyphicon glyphicon-remove form-control-feedback" id="address_invalid"></i>
                    <i class="display-none glyphicon glyphicon-ok form-control-feedback" id="address_valid"></i>
                    <p class="display-none help-block" id="address_invalid_message">Glöm inte att fylla i din adress.</p>
                </div>
                <div class="form-group has-feedback" id="postalcode_div">
                    <label>Postnummer *</label>
                    <input type="text" class="form-control border-radius" id="postalcode_input" name="postalcode" placeholder="Fyll i ditt postnummer">
                    <i class="display-none glyphicon glyphicon-remove form-control-feedback" id="postalcode_invalid"></i>
                    <i class="display-none glyphicon glyphicon-ok form-control-feedback" id="postalcode_valid"></i>
                    <p class="display-none help-block" id="postalcode_invalid_message">Fyll i ditt postnummer (fem siffror).</p>
                </div>
                <div class="form-group has-feedback" id="city_div">
                    <label>Ort *</label>
                    <input type="text" class="form-control border-radius" id="city_input" name="city" placeholder="Fyll i din hemort">
                    <i class="display-none glyphicon glyphicon-remove form-control-feedback" id="city_invalid"></i>
                    <i class="display-none glyphicon glyphicon-ok form-control-feedback" id="city_valid"></i>
                    <p class="display-none help-block" id="city_invalid_message">Glöm inte att fylla i din hemort.</p>
                </div>
                <div class="form-group">
                    <label>Telefonnummer </label>
                    <input type="text" class="form-control border-radius" name="phone_nr" placeholder="Fyll i ditt telefonnummer">
                </div>
                <div class="form-group has-feedback" id="email_div">
                    <label>E-postadress *</label>
                    <input type="email" class="form-control border-radius form-control-danger" id="email_input" name="email" placeholder="Fyll i din e-postadress">
                    <i class="display-none glyphicon glyphicon-remove form-control-feedback" id="email_invalid"></i>
                    <i class="display-none glyphicon glyphicon-ok form-control-feedback" id="email_valid"></i>
                    <p class="display-none help-block" id="email_invalid_message">Ogiltig e-postadress.</p>
                </div>
                <div class="form-group has-feedback" id="emailconfirm_div">
                    <label>Bekräfta e-postadress *</label>
                    <input type="email" class="form-control border-radius" id="emailconfirm_input" name="emailconfirm" placeholder="Bekräfta din e-postadress">
                    <i class="display-none glyphicon glyphicon-remove form-control-feedback" id="emailconfirm_invalid"></i>
                    <i class="display-none glyphicon glyphicon-ok form-control-feedback" id="emailconfirm_valid"></i>
                    <p class="display-none help-block" id="emailconfirm_invalid_message">E-postadresserna stämmer inte överens.</p>
                </div>
                <div class="form-group has-feedback" id="password_div">
                    <label>Lösenord *</label>
                    <input type="password" class="form-control border-radius" id="password_input" name="password" placeholder="Välj ett lösenord">
                    <i class="display-none glyphicon glyphicon-remove form-control-feedback" id="password_invalid"></i>
                    <i class="display-none glyphicon glyphicon-ok form-control-feedback" id="password_valid"></i>
                    <p class="display-none help-block" id="password_invalid_message">Lösenordet måste innehålla som minst 8 och som mest 15 tecken, <br>varav minst en stor och en liten bokstav samt en siffra.</p>
                </div>
                <div class="form-group has-feedback" id="passwordconfirm_div">
                    <label>Bekräfta lösenord *</label>
                    <input type="password" class="form-control border-radius" id="passwordconfirm_input" name="passwordconfirm" placeholder="Bekräfta ditt lösenord">
                    <i class="display-none glyphicon glyphicon-remove form-control-feedback" id="passwordconfirm_invalid"></i>
                    <i class="display-none glyphicon glyphicon-ok form-control-feedback" id="passwordconfirm_valid"></i>
                    <p class="display-none help-block" id="passwordconfirm_invalid_message">Lösenorden stämmer inte överens.</p>
                </div>
            </fieldset>
            <fieldset class="border-none text-align-left form_padding_large">
                <br><input type="checkbox"> Jag vill ha gårdsbutikens nyhetsbrev skickat till min angivna e-postadress. <br>
                <input type="checkbox" name="consent" id="consent_input"> Jag accepterar att gårdsbutiken <a href="#">lagrar mina personuppgifter</a>. *<br>
                <br><p>* = Obligatoriskt fält</p>
            </fieldset>
            <fieldset class="border-none text-align-center padding-top-medium">
                <input type="button" class="btn btn-warning" name="back_button_registration_form" value="Tillbaka">
                <input type="submit" class="btn btn-warning" id="submit_button" name="submit_registration_form" value="Registrera" disabled>
            </fieldset>
        </form>
    </div>
</div>

<!-- Modal displaying explanation -->
<div id="infoModal" class="modal fade" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h2 class="padding-small font-family-garamond">
                    Real-time client-side form validation: JavaScript
                </h2>
            </div>
            <div class="modal-body">
                <p class="padding-small margin-small font-family-arial text-align-justify">
                    JavaScript has all the tools required to implement real-time form validation on the client side, but appears clunky when compared to techniques like
                    JQuery and AngularJS. This page uses the HTML5 "placeholder" attribute.
                    Lines of code (markup languages excluded, inline code included): 261.
                </p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal for displaying the source code of the page -->
<div id="codeModal" class="modal fade" role="dialog">
    <div class="modal-dialog modal-lg">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h2 class="padding-small font-family-garamond">
                    Source Code
                </h2>
            </div>
            <div class="modal-body text-align-left">
                <h3 class="padding-xsmall font-family-garamond">
                    HTML
                </h3>
                <pre class="code-modal-body">
&ltdiv class="container-main-content display-inline-block padding-medium"&gt
    &ltp class="margin-none padding-none padding-bottom-medium"&gt
        Fyll i nedanstående formulär för att registrera dig som ny kund i vår nätbutik! 
    &lt/p&gt
    &ltdiv class="visible-lg"&gt
        &ltdiv class="float-left padding-none padding-left-medium"&gt
            &ltul class="nav nav-tabs"&gt
                &lt!--Due to compatibility issues between AngularJS and vanilla JavaScript I had to place the onload-function on an image element instead on the window object.--&gt
                &ltli&gt&lta href="#/register_html5"&gt&ltimg src="/content/icon/html5_small.png" onload="onloadFunction()" alt="HTML5"&gt&lt/a&gt&lt/li&gt
                &ltli class="active"&gt&lta href="#/register_js"&gt&ltimg src="/content/icon/js_small.png" alt="JavaScript"&gt&lt/a&gt&lt/li&gt
                &ltli&gt&lta href="#/register_jquery"&gt&ltimg src="/content/icon/jquery_small.png" alt="JQuery"&gt&lt/a&gt&lt/li&gt
                &ltli&gt&lta href="#/register_angularjs"&gt&ltimg src="/content/icon/angularjs_small.png" alt="AngularJS"&gt&lt/a&gt&lt/li&gt
            &lt/ul&gt
        &lt/div&gt
        &ltdiv class="float-right padding-none padding-right-medium" style="height: 60px;"&gt
            &ltdiv class="display-table"&gt
                &ltdiv class="display-table-cell-bottom"&gt
                    &lta target="_blank" href="" onclick="window.open('view-source:https://online-shop-angular-viktorstarn.c9users.io/specific/register/register_js.html');window.open('view-source:https://online-shop-angular-viktorstarn.c9users.io/specific/register/js.js');" class="btn btn-warning btn-xs margin-left-small" title="Glöm inte tillåta popups!"&gtVisa sidkällor&lt/a&gt
                    &ltinput type="button" class="btn btn-warning btn-xs" value="Förklaring" data-toggle="modal" data-target="#infoModal"&gt
                &lt/div&gt
            &lt/div&gt
        &lt/div&gt
    &lt/div&gt
    &ltdiv class="clear-both"&gt
        &ltform onsubmit="SubmitFunction()" name="userForm" class="text-align-left border border-radius gray-bgcolor margin-medium padding-medium"&gt
            &ltfieldset class="border-none display-block" id="fieldset_text_fields_registration_form"&gt
                &ltdiv class="form-group has-feedback" id="firstname_div"&gt
                    &ltlabel&gtFörnamn *&lt/label&gt
                    &ltinput type="text" class="form-control border-radius" id="firstname_input" name="firstname" placeholder="Fyll i ditt förnamn"&gt
                    &lti class="display-none glyphicon glyphicon-remove form-control-feedback" id="firstname_invalid"&gt&lt/i&gt
                    &lti class="display-none glyphicon glyphicon-ok form-control-feedback" id="firstname_valid"&gt&lt/i&gt
                    &ltp class="display-none help-block" id="firstname_invalid_message"&gtGlöm inte att fylla i ditt förnamn.&lt/p&gt
                &lt/div&gt
                &ltdiv class="form-group has-feedback" id="lastname_div"&gt
                    &ltlabel&gtEfternamn *&lt/label&gt
                    &ltinput type="text" class="form-control border-radius" id="lastname_input" name="lastname" placeholder="Fyll i ditt efternamn"&gt
                    &lti class="display-none glyphicon glyphicon-remove form-control-feedback" id="lastname_invalid"&gt&lt/i&gt
                    &lti class="display-none glyphicon glyphicon-ok form-control-feedback" id="lastname_valid"&gt&lt/i&gt
                    &ltp class="display-none help-block" id="lastname_invalid_message"&gtGlöm inte att fylla i ditt efternamn.&lt/p&gt
                &lt/div&gt
                &ltdiv class="form-group has-feedback" id="address_div"&gt
                    &ltlabel&gtAdress *&lt/label&gt
                    &ltinput type="text" class="form-control border-radius" id="address_input" name="address" placeholder="Fyll i din adress"&gt
                    &lti class="display-none glyphicon glyphicon-remove form-control-feedback" id="address_invalid"&gt&lt/i&gt
                    &lti class="display-none glyphicon glyphicon-ok form-control-feedback" id="address_valid"&gt&lt/i&gt
                    &ltp class="display-none help-block" id="address_invalid_message"&gtGlöm inte att fylla i din adress.&lt/p&gt
                &lt/div&gt
                &ltdiv class="form-group has-feedback" id="postalcode_div"&gt
                    &ltlabel&gtPostnummer *&lt/label&gt
                    &ltinput type="text" class="form-control border-radius" id="postalcode_input" name="postalcode" placeholder="Fyll i ditt postnummer"&gt
                    &lti class="display-none glyphicon glyphicon-remove form-control-feedback" id="postalcode_invalid"&gt&lt/i&gt
                    &lti class="display-none glyphicon glyphicon-ok form-control-feedback" id="postalcode_valid"&gt&lt/i&gt
                    &ltp class="display-none help-block" id="postalcode_invalid_message"&gtFyll i ditt postnummer (fem siffror).&lt/p&gt
                &lt/div&gt
                &ltdiv class="form-group has-feedback" id="city_div"&gt
                    &ltlabel&gtOrt *&lt/label&gt
                    &ltinput type="text" class="form-control border-radius" id="city_input" name="city" placeholder="Fyll i din hemort"&gt
                    &lti class="display-none glyphicon glyphicon-remove form-control-feedback" id="city_invalid"&gt&lt/i&gt
                    &lti class="display-none glyphicon glyphicon-ok form-control-feedback" id="city_valid"&gt&lt/i&gt
                    &ltp class="display-none help-block" id="city_invalid_message"&gtGlöm inte att fylla i din hemort.&lt/p&gt
                &lt/div&gt
                &ltdiv class="form-group"&gt
                    &ltlabel&gtTelefonnummer &lt/label&gt
                    &ltinput type="text" class="form-control border-radius" name="phone_nr" placeholder="Fyll i ditt telefonnummer"&gt
                &lt/div&gt
                &ltdiv class="form-group has-feedback" id="email_div"&gt
                    &ltlabel&gtE-postadress *&lt/label&gt
                    &ltinput type="email" class="form-control border-radius form-control-danger" id="email_input" name="email" placeholder="Fyll i din e-postadress"&gt
                    &lti class="display-none glyphicon glyphicon-remove form-control-feedback" id="email_invalid"&gt&lt/i&gt
                    &lti class="display-none glyphicon glyphicon-ok form-control-feedback" id="email_valid"&gt&lt/i&gt
                    &ltp class="display-none help-block" id="email_invalid_message"&gtOgiltig e-postadress.&lt/p&gt
                &lt/div&gt
                &ltdiv class="form-group has-feedback" id="emailconfirm_div"&gt
                    &ltlabel&gtBekräfta e-postadress *&lt/label&gt
                    &ltinput type="email" class="form-control border-radius" id="emailconfirm_input" name="emailconfirm" placeholder="Bekräfta din e-postadress"&gt
                    &lti class="display-none glyphicon glyphicon-remove form-control-feedback" id="emailconfirm_invalid"&gt&lt/i&gt
                    &lti class="display-none glyphicon glyphicon-ok form-control-feedback" id="emailconfirm_valid"&gt&lt/i&gt
                    &ltp class="display-none help-block" id="emailconfirm_invalid_message"&gtE-postadresserna stämmer inte överens.&lt/p&gt
                &lt/div&gt
                &ltdiv class="form-group has-feedback" id="password_div"&gt
                    &ltlabel&gtLösenord *&lt/label&gt
                    &ltinput type="password" class="form-control border-radius" id="password_input" name="password" placeholder="Välj ett lösenord"&gt
                    &lti class="display-none glyphicon glyphicon-remove form-control-feedback" id="password_invalid"&gt&lt/i&gt
                    &lti class="display-none glyphicon glyphicon-ok form-control-feedback" id="password_valid"&gt&lt/i&gt
                    &ltp class="display-none help-block" id="password_invalid_message"&gtLösenordet måste innehålla som minst 8 och som mest 15 tecken, &ltbr&gtvarav minst en stor och en liten bokstav samt en siffra.&lt/p&gt
                &lt/div&gt
                &ltdiv class="form-group has-feedback" id="passwordconfirm_div"&gt
                    &ltlabel&gtBekräfta lösenord *&lt/label&gt
                    &ltinput type="password" class="form-control border-radius" id="passwordconfirm_input" name="passwordconfirm" placeholder="Bekräfta ditt lösenord"&gt
                    &lti class="display-none glyphicon glyphicon-remove form-control-feedback" id="passwordconfirm_invalid"&gt&lt/i&gt
                    &lti class="display-none glyphicon glyphicon-ok form-control-feedback" id="passwordconfirm_valid"&gt&lt/i&gt
                    &ltp class="display-none help-block" id="passwordconfirm_invalid_message"&gtLösenorden stämmer inte överens.&lt/p&gt
                &lt/div&gt
            &lt/fieldset&gt
            &ltfieldset class="border-none text-align-left form_padding_large"&gt
                &ltbr&gt&ltinput type="checkbox"&gt Jag vill ha gårdsbutikens nyhetsbrev skickat till min angivna e-postadress. &ltbr&gt
                &ltinput type="checkbox" name="consent" id="consent_input"&gt Jag accepterar att gårdsbutiken &lta href="#"&gtlagrar mina personuppgifter&lt/a&gt. *&ltbr&gt
                &ltbr&gt&ltp&gt* = Obligatoriskt fält&lt/p&gt
            &lt/fieldset&gt
            &ltfieldset class="border-none text-align-center padding-top-medium"&gt
                &ltinput type="button" class="btn btn-warning" name="back_button_registration_form" value="Tillbaka"&gt
                &ltinput type="submit" class="btn btn-warning" name="submit_registration_form" value="Registrera"&gt
            &lt/fieldset&gt
        &lt/form&gt
    &lt/div&gt
&lt/div&gt
                </pre>
                    <h3 class="padding-xsmall font-family-garamond">
                        <br>
                        JavaScript
                    </h3>
                <pre class="code-modal-body">
/* Declare okToSubmitArray. Keeps track of the valid/invalid-status of the form input fields. */
var okToSubmitArray = [{firstname: false}, {lastname: false}, {address: false}, {postalcode: false}, {city: false}, {email: false}, {emailconfirm: false}, {password: false}, {passwordconfirm: false}, {consent: false}];

/* Define function onloadFunction. Invoked when document loads. */
function onloadFunction () {
    
    /* Get all input elements. */
    var firstname = document.getElementById("firstname_input");
    var lastname = document.getElementById("lastname_input");
    var address = document.getElementById("address_input");
    var postalcode = document.getElementById("postalcode_input");
    var city = document.getElementById("city_input");
    var email = document.getElementById("email_input");
    var emailconfirm = document.getElementById("emailconfirm_input");
    var password = document.getElementById("password_input");
    var passwordconfirm = document.getElementById("passwordconfirm_input");
    var consent = document.getElementById("consent_input");
        
    /* Place all input elements in array. */
    var elementArray = [firstname, lastname, address, postalcode, city, email, emailconfirm, password, passwordconfirm, consent];
    
    /* Create a variable to hold array length (for use in for-loop in order to speed up processing. */
    var arrayLength = elementArray.length;
    
    /* Loop through input elements and add the oninput event attribute (pointing to below "customOnInputFunction"-function) to all of them (except for the consent checkbox which gets an onchange event instead. */
    for (var i = 0 ; arrayLength > i ; i++) {
        var name = elementArray[i].name;
        if (name == "consent") {
            elementArray[i].setAttribute("onchange", "customOnInputFunction('" + name + "', document.forms['userForm']['" + name + "'].value)");
        }
        else {
            elementArray[i].setAttribute("oninput", "customOnInputFunction('" + name + "', document.forms['userForm']['" + name + "'].value)");
        }
    }
    
}

/* Define function customOnInputFunction. Invoked on user input for fields configured for validation. Takes element name and value typed in by user as parameters. */
function customOnInputFunction(name, value) {
    
    /* Get current div-element for setting Bootstrap classes 'has-success' and 'has-error' (valid/invalid input). */
    var div = document.getElementById(name + "_div");
    var input = value;
    /* Get current i-elements for setting Bootstrap classes for glyphicons symbolizing valid/invalid input. */
    var i1 = document.getElementById(name + "_invalid");
    var i2 = document.getElementById(name + "_valid");
    /* Get current p-element for showing/hiding error message. */
    var p = document.getElementById(name + "_invalid_message");
    
    /* Send information to validation function. */
    realTimeValidation(name, div, input, i1, i2, p);
    
}

/* Define function realTimeValidation. Invoked by customOnInputFunction on user input. Takes user input and elements involved in validation process as parameters. */
function realTimeValidation(name, div, input, i1, i2, p) {
    
    /* Regular expressions for validating postalcodes, emails and passwords. */
    var regExpPcode = new RegExp(/^(\d{5}-\d{4}|\d{5})$/);
    var regExpEmail = new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/);
    var regExpPword = new RegExp(/^((?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,15})$/);
    
    /* Choose validation type depending on which input field is being validated. */
    switch (name) {
        case "postalcode":
            /* Compare user input to regular expression. If it doesn't match use classes that style for invalid input, otherwise use clases that style for valid input. */
            if (!regExpPcode.test(input)) {
                // Bootstrap 'has-error' on div.
                div.className = "";
                div.className += "form-group has-feedback has-error";
                // Display Bootstrap 'glyphicon-remove'.
                i1.className = "";
                i1.className += "display-block glyphicon glyphicon-remove form-control-feedback";
                // Display error message. 
                p.className = "";
                p.className += "display-block help-block";
                // If the field was valid, but no longer is, hide Bootstrap 'glyphicon-ok'.
                if (i2.className.indexOf("display-block") != -1) {
                    i2.className = "";
                    i2.className += "display-none glyphicon glyphicon-ok form-control-feedback";
                }
                /* Find object corresponding to current input field in okToSubmitArray and change its only property to false (okToSubmitArray is used later by SubmitFunction() to determine if all fields have been filled out). Also enables submit-button if all required fields/checkboxes have been filled in/checked. */
                updateOkToSubmitArrayFunction(false, name);
            }
            else {
                // Bootstrap 'has-success' on div.
                div.className = "";
                div.className += "form-group has-feedback has-success";
                // Display Bootstrap 'glyphicon-ok'.
                i2.className = "";
                i2.className += "display-block glyphicon glyphicon-ok form-control-feedback";
                // If the field was invalid, but no longer is, hide Bootstrap 'glyphicon-remove'.
                if (i1.className.indexOf("display-block") != -1) {
                    i1.className = "";
                    i1.className += "display-none glyphicon glyphicon-remove form-control-feedback";
                }
                // If the field was invalid, but no longer is, hide error message.
                if (p.className.indexOf("display-block") != -1) {
                    p.className = "";
                    p.className += "display-none help-block";
                }
                /* Find object corresponding to current input field in okToSubmitArray and change its only property to false (okToSubmitArray is used later by SubmitFunction() to determine if all fields have been filled out). Also enables submit-button if all required fields/checkboxes have been filled in/checked. */
                updateOkToSubmitArrayFunction(true, name);
            }
            break;
        case "email":
            /* Compare user input to regular expression. If it doesn't match use classes that style for invalid input, otherwise use clases that style for valid input. */
            if (!regExpEmail.test(input)) {
                // Bootstrap 'has-error' on div.
                div.className = "";
                div.className += "form-group has-feedback has-error";
                // Display Bootstrap 'glyphicon-remove'. 
                i1.className = "";
                i1.className += "display-block glyphicon glyphicon-remove form-control-feedback";
                // Display error message. 
                p.className = "";
                p.className += "display-block help-block";
                // If the field was valid, but no longer is, hide Bootstrap 'glyphicon-ok'.
                if (i2.className.indexOf("display-block") != -1) {
                    i2.className = "";
                    i2.className += "display-none glyphicon glyphicon-ok form-control-feedback";
                }
                /* Find object corresponding to current input field in okToSubmitArray and change its only property to false (okToSubmitArray is used later by SubmitFunction() to determine if all fields have been filled out). Also enables submit-button if all required fields/checkboxes have been filled in/checked. */
                updateOkToSubmitArrayFunction(false, name);
            }
            else {
                // Bootstrap 'has-success' on div.
                div.className = "";
                div.className += "form-group has-feedback has-success";
                // Display Bootstrap 'glyphicon-ok'.
                i2.className = "";
                i2.className += "display-block glyphicon glyphicon-ok form-control-feedback";
                // Display Bootstrap 'glyphicon-remove'.
                if (i1.className.indexOf("display-block") != -1) {
                    i1.className = "";
                    i1.className += "display-none glyphicon glyphicon-remove form-control-feedback";
                }
                // Display error message.
                if (p.className.indexOf("display-block") != -1) {
                    p.className = "";
                    p.className += "display-none help-block";
                }
                /* Find object corresponding to current input field in okToSubmitArray and change its only property to false (okToSubmitArray is used later by SubmitFunction() to determine if all fields have been filled out). Also enables submit-button if all required fields/checkboxes have been filled in/checked. */
                updateOkToSubmitArrayFunction(true, name);
            }
            break;
        case "emailconfirm":
            /* Compare e-mail addresses and compare user input to regular expression. If they don't match use classes that style for invalid input, otherwise use clases that style for valid input. */
            var email = document.forms['userForm']['email'].value;
            if (input != email || !regExpEmail.test(input)) {
                // Bootstrap 'has-error' on div.
                div.className = "";
                div.className += "form-group has-feedback has-error";
                // Display Bootstrap 'glyphicon-remove'. 
                i1.className = "";
                i1.className += "display-block glyphicon glyphicon-remove form-control-feedback";
                // Display error message. 
                p.className = "";
                p.className += "display-block help-block";
                // If the field was valid, but no longer is, hide Bootstrap 'glyphicon-ok'.
                if (i2.className.indexOf("display-block") != -1) {
                    i2.className = "";
                    i2.className += "display-none glyphicon glyphicon-ok form-control-feedback";
                }
                /* Find object corresponding to current input field in okToSubmitArray and change its only property to false (okToSubmitArray is used later by SubmitFunction() to determine if all fields have been filled out). Also enables submit-button if all required fields/checkboxes have been filled in/checked. */
                updateOkToSubmitArrayFunction(false, name);
            }
            else {
                // Bootstrap 'has-success' on div.
                div.className = "";
                div.className += "form-group has-feedback has-success";
                // Display Bootstrap 'glyphicon-ok'.
                i2.className = "";
                i2.className += "display-block glyphicon glyphicon-ok form-control-feedback";
                // Display Bootstrap 'glyphicon-remove'.
                if (i1.className.indexOf("display-block") != -1) {
                    i1.className = "";
                    i1.className += "display-none glyphicon glyphicon-remove form-control-feedback";
                }
                // Display error message.
                if (p.className.indexOf("display-block") != -1) {
                    p.className = "";
                    p.className += "display-none help-block";
                }
                /* Find object corresponding to current input field in okToSubmitArray and change its only property to false (okToSubmitArray is used later by SubmitFunction() to determine if all fields have been filled out). Also enables submit-button if all required fields/checkboxes have been filled in/checked. */
                updateOkToSubmitArrayFunction(true, name);
            }
            break;
        case "password":
            /* Compare user input to regular expression. If it doesn't match use classes that style for invalid input, otherwise use clases that style for valid input. */
            if (!regExpPword.test(input)) {
                // Bootstrap 'has-error' on div.
                div.className = "";
                div.className += "form-group has-feedback has-error";
                // Display Bootstrap 'glyphicon-remove'. 
                i1.className = "";
                i1.className += "display-block glyphicon glyphicon-remove form-control-feedback";
                // Display error message. 
                p.className = "";
                p.className += "display-block help-block";
                // If the field was valid, but no longer is, hide Bootstrap 'glyphicon-ok'.
                if (i2.className.indexOf("display-block") != -1) {
                    i2.className = "";
                    i2.className += "display-none glyphicon glyphicon-ok form-control-feedback";
                }
                /* Find object corresponding to current input field in okToSubmitArray and change its only property to false (okToSubmitArray is used later by SubmitFunction() to determine if all fields have been filled out). Also enables submit-button if all required fields/checkboxes have been filled in/checked. */
                updateOkToSubmitArrayFunction(false, name);
            }
            else {
                // Bootstrap 'has-success' on div.
                div.className = "";
                div.className += "form-group has-feedback has-success";
                // Display Bootstrap 'glyphicon-ok'.
                i2.className = "";
                i2.className += "display-block glyphicon glyphicon-ok form-control-feedback";
                // Display Bootstrap 'glyphicon-remove'.
                if (i1.className.indexOf("display-block") != -1) {
                    i1.className = "";
                    i1.className += "display-none glyphicon glyphicon-remove form-control-feedback";
                }
                // Display error message.
                if (p.className.indexOf("display-block") != -1) {
                    p.className = "";
                    p.className += "display-none help-block";
                }
                /* Find object corresponding to current input field in okToSubmitArray and change its only property to false (okToSubmitArray is used later by SubmitFunction() to determine if all fields have been filled out). Also enables submit-button if all required fields/checkboxes have been filled in/checked. */
                updateOkToSubmitArrayFunction(true, name);
            }
            break;
        case "passwordconfirm":
            /* Compare passwords and compare user input to regular expression. If they don't match use classes that style for invalid input, otherwise use clases that style for valid input. */
            var pword = document.forms['userForm']['password'].value;
            if (input != pword || !regExpPword.test(input)) {
                // Bootstrap 'has-error' on div.
                div.className = "";
                div.className += "form-group has-feedback has-error";
                // Display Bootstrap 'glyphicon-remove'. 
                i1.className = "";
                i1.className += "display-block glyphicon glyphicon-remove form-control-feedback";
                // Display error message. 
                p.className = "";
                p.className += "display-block help-block";
                // If the field was valid, but no longer is, hide Bootstrap 'glyphicon-ok'.
                if (i2.className.indexOf("display-block") != -1) {
                    i2.className = "";
                    i2.className += "display-none glyphicon glyphicon-ok form-control-feedback";
                }
                /* Find object corresponding to current input field in okToSubmitArray and change its only property to false (okToSubmitArray is used later by SubmitFunction() to determine if all fields have been filled out). Also enables submit-button if all required fields/checkboxes have been filled in/checked. */
                updateOkToSubmitArrayFunction(false, name);
            }
            else {
                // Bootstrap 'has-success' on div.
                div.className = "";
                div.className += "form-group has-feedback has-success";
                // Display Bootstrap 'glyphicon-ok'.
                i2.className = "";
                i2.className += "display-block glyphicon glyphicon-ok form-control-feedback";
                // Display Bootstrap 'glyphicon-remove'.
                if (i1.className.indexOf("display-block") != -1) {
                    i1.className = "";
                    i1.className += "display-none glyphicon glyphicon-remove form-control-feedback";
                }
                // Display error message.
                if (p.className.indexOf("display-block") != -1) {
                    p.className = "";
                    p.className += "display-none help-block";
                }
                /* Find object corresponding to current input field in okToSubmitArray and change its only property to false (okToSubmitArray is used later by SubmitFunction() to determine if all fields have been filled out). Also enables submit-button if all required fields/checkboxes have been filled in/checked. */
                updateOkToSubmitArrayFunction(true, name);
            }
            break;
        case "consent":
            /* Get checked/unchecked status of consent checkbox. */
            var consentCheckedStatus = document.getElementById("consent_input").checked;
            /* If checked, tell OkToSubmitArray. */
            if (consentCheckedStatus == true) {
                updateOkToSubmitArrayFunction(true, name);
            }
            else {
                updateOkToSubmitArrayFunction(false, name);
            }
            break;
        default:
            /* Make sure user input is not null or an empty string. If it is use classes that style for invalid input, otherwise use clases that style for valid input. */
            if (input == null || input == "") {
                // Bootstrap 'has-error' on div.
                div.className = "";
                div.className += "form-group has-feedback has-error";
                // Display Bootstrap 'glyphicon-remove'. 
                i1.className = "";
                i1.className += "display-block glyphicon glyphicon-remove form-control-feedback";
                // Display error message. 
                p.className = "";
                p.className += "display-block help-block";
                // If the field was valid, but no longer is, hide Bootstrap 'glyphicon-ok'.
                if (i2.className.indexOf("display-block") != -1) {
                    i2.className = "";
                    i2.className += "display-none glyphicon glyphicon-ok form-control-feedback";
                }
                /* Find object corresponding to current input field in okToSubmitArray and change its only property to false (okToSubmitArray is used later by SubmitFunction() to determine if all fields have been filled out). Also enables submit-button if all required fields/checkboxes have been filled in/checked. */
                updateOkToSubmitArrayFunction(false, name);
            }
            else {
                // Bootstrap 'has-success' on div.
                div.className = "";
                div.className += "form-group has-feedback has-success";
                // Display Bootstrap 'glyphicon-ok'.
                i2.className = "";
                i2.className += "display-block glyphicon glyphicon-ok form-control-feedback";
                // Display Bootstrap 'glyphicon-remove'.
                if (i1.className.indexOf("display-block") != -1) {
                    i1.className = "";
                    i1.className += "display-none glyphicon glyphicon-remove form-control-feedback";
                }
                // Display error message.
                if (p.className.indexOf("display-block") != -1) {
                    p.className = "";
                    p.className += "display-none help-block";
                }
                /* Find object corresponding to current input field in okToSubmitArray and change its only property to false (okToSubmitArray is used later by SubmitFunction() to determine if all fields have been filled out). Also enables submit-button if all required fields/checkboxes have been filled in/checked. */
                updateOkToSubmitArrayFunction(true, name);
            }
            break;
    }
    
}

/* Define function updateOkToSubmitArrayFunction. Invoked by realTimeValidation-function when user input is received. Takes input element name and value typed in by user as parameters. */
function updateOkToSubmitArrayFunction (value, name) {
    
    /* Loop through the objects in okToSubmitArray. */
    for (var object in okToSubmitArray) {
        /* Store current object in variable. */
        var okToSubmitObject = okToSubmitArray[object];
        /* Get object properties. */
        var okToSubmitProperty = Object.keys(okToSubmitObject);
        /* Convert property to string. */
        var okToSubmitPropertyString = okToSubmitProperty.toString();
        
        /* Compare string to element name. */
        if (okToSubmitPropertyString == name) {
            /* Loop through the object properties (there's only one key value pair). */
            for (var property in okToSubmitObject) {
                /* Set its value to the one received from realTimeValidation-function. */
                okToSubmitObject[property] = value;
            }
        }
        
        /* Loop through the objects in okToSubmitArray and set the availability of the submit-button accordingly. */
        for (var object in okToSubmitArray) {
            var okToSubmitObject = okToSubmitArray[object];
            var okToSubmitObjectProperty = Object.keys(okToSubmitObject);
           
            if (okToSubmitObject[okToSubmitObjectProperty] == false) {
                ToggleSubmitButtonStatus(true);
                break;
            }
            else {
                ToggleSubmitButtonStatus(false);
            }
        }
    }
    
}

/* Define function SubmitFunction. Invoked by form onsubmit-attribute when user submits form. */
function SubmitFunction() {

    window.alert("Välkommen som ny kund i vår Gårdsbutik!")
    return true;
    
}

/* Define function ToggleSubmitButtonStatus. Invoked by realTimeValidation-function when user input is received. Takes desired disabled/enabled status as parameter. */
function ToggleSubmitButtonStatus (status) {
    /* Set the disabled true/false status of the submit-button. */
    document.getElementById("submit_button").disabled = status;
}
                </pre>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>